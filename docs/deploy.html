---
title: "pree: deploy"
layout: ./_layout.html
---

<m-d>

## Deploying Your Website

Websites built with `pree` are static files without any specific server requirements. Host them anywhere you can host static files. It is customary to incorporate the build step into your deployment process as well. Here are some examples of popular deployment providers and how you can integrate `pree` into their deployment process.

---

### GitHub Pages

[GitHub Pages](https://pages.github.com/) are one of the easiest methods of deploying a static website, specifically for personal or open-source projects. You can use [GitHub Actions](https://github.com/features/actions) to automatically prebuild and deploy your website upon commits.

<emo-li>
  <span slot="emo">ğŸ“œ</span>
  <m-d>**STEP 1**: Add a `.github/workflows/docs.yml` file to your project.</m-d>
</emo-li>

<emo-li>
 <span slot="emo">âš™ï¸</span>
  <m-d>**STEP 2**: Fill the workflow file as follows:</m-d>
</emo-li>

```yml
  name: docs
  on:
    push:
      branches:
        - main
  permissions:
    contents: write
  jobs:
    run:
      runs-on: ubuntu-latest
      steps:
        - name: Checkout
          uses: actions/checkout@v2
          with:
            fetch-depth: 0

        - uses: actions/setup-node@v2
          with:
            node-version: '16'

        - name: Install pree
          run: npm i -g pree

        - name: Build docs
          run: pree build

        - name: No Jekyll
          run: touch docs/.nojekyll
        
        - name: Deploy ğŸš€
          uses: JamesIves/github-pages-deploy-action@v4
          with:
            folder: site
```


<emo-li>
  <span slot="emo">ğŸš€</span>
  <m-d>**STEP 3**: Commit and push the workflow file to your repository.</m-d>
</emo-li>

> You must have Github Pages configured on your repository. [Check this guide](https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site) on how to do it.

---

### Surge

[Surge](https://surge.sh/) is an extremely easy methods of deploying a static website.


<emo-li>
  <span slot="emo">ğŸ—ï¸</span>
  <m-d>**STEP 1**: build with `pree`:</m-d>
</emo-li>

```bash
pree build docs site
```

<emo-li>
  <span slot="emo">ğŸ‘‰</span>
  <m-d>**STEP 2**: go to the built directory:</m-d>
</emo-li>

```bash
cd site
```

<emo-li>
  <span slot="emo">ğŸš€</span>
  <m-d>**STEP 3**: deploy with surge</m-d>
</emo-li>

```bash
surge --domain https://my-website.surge.sh
```

<br>

> ğŸ˜ &ensp; [This copy](https://pree.surge.sh) of this website is built and deployed to Surge using the same method.

> Surge ignores .\* and _\* files by default (among other files and paths). Add a [`.surgeignore`](https://surge.sh/help/ignoring-files-and-directories) file to your project to customize this behavior.

---

### Vercel

`pree` uses [Puppeteer](https://pptr.dev/) to generate the static files. Vercel has a [known issue](https://pptr.dev/troubleshooting#running-puppeteer-on-aws-lambda) with Puppeteer (as well as all AWS powered build pipelines), so you need to prebuild the site in another environment, for example your own machine, before deploying it to Vercel.


Configure your project to build with `pree`. Either go the your Vercel dashboard project setting at
`Projects &gt; Settings &gt; General` and set the following configuration:

<img src=".images/vercel-config.png" alt="vercel config screenshot" width="100%"/>

<br>

Or, in your Vercel config files, ensue the following:

```json
  {
    "installCommand": "npm i -g pree@latest",
    "buildCommand": "pree build",
    "outputDirectory": "site"
  }
```

<br>

<emo-li>
  <span slot="emo">ğŸ‘€</span>
  Execute the following to deploy:
</emo-li>

```bash
vercel build
```
```bash
vercel deploy --prebuilt
```

<br>

<emo-li>
  <span slot="emo">ğŸš€</span>
  <m-d>Execute the following to deploy to production:</m-d>
</emo-li>

```bash
vercel build --prod
```
```bash
vercel deploy --prebuilt --prod
```

<br>

> ğŸ˜ &ensp; [This copy](https://pree-view.vercel.app) of this website is built and deployed to Vercel using the same method.

</m-d>

<br>
<change-history></change-history>
<br>