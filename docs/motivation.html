---
title: "pree: why?"
layout: ./_layout.html
---

<style>
  main p {
    margin-bottom: 1.5em;
  }
</style>

<m-d>

### No Time To Build

A ton of modern web development is wrestling with build tools. Transpilers, bundlers, runtimes, test runners, devtools, packages with various module formats, frameworks with custom syntax and custom devtools, all need to play nice together. In the end, more time is spent configuring build tools instead of building.

Should we keep torturing ourselves though? Modern web features such as [ESM](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules), [import maps](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script/type/importmap), [Web Components](https://developer.mozilla.org/en-US/docs/Web/Web_Components), [declarative shadow DOM](https://developer.chrome.com/docs/css-ui/declarative-shadow-dom), [nested styles](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_nesting/Using_CSS_nesting), [CSS variables](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties), etc. enable building nice smooth experiences by writing plain HTML, CSS and JavaScript, no build tools involved. Perhaps its time to adopt a ["no build"](https://world.hey.com/dhh/you-can-t-get-faster-than-no-build-7a44131c) approach, embracing the simplicity and speed of the modern web.

<br>

---

<br>

In practice, there are still gaps. Big applications still might want to use bundlers, though [it is possible](https://world.hey.com/dhh/once-1-is-entirely-nobuild-for-the-front-end-ce56f6d7) to avoid them. Even for smaller projects like documentation sites or blogs, which have fewer moving parts and require less logic on the client, there are fundamental short comings:

</m-d>

<emo-li>
  <span slot="emo">üß¨</span>
  Web components render on client. This makes user experience, specifically for static content, janky and slow. You'd need a build step to pre-render them and get good perceived speed and performance.
</emo-li>
<br>
<emo-li>
  <span slot="emo">üèóÔ∏è</span>
  Websites typically have multiple pages, sharing layout and tons of metadata, differing in a few. Without a build step, managing these shared and differing parts would be a huge pain.
</emo-li>
<br>
<emo-li>
  <span slot="emo">üëª</span>
  Many components are static: they don't do anything on the client. If you could remove them, you wouldn't just be cutting down on downloaded assets, but also on unnecessary work the client has to do. But then again, that wouldn't be possible without a build step.
</emo-li>

<m-d>

<br>

---

<br>

### Here comes `pree`

`pree` aims to fill in these gaps as leanly as it can. It is specifically designed for building static sites such as blogs or documentations. The goal is to provide a simple, straightforward and smooth developer experience for building static websites, while being as "no build" as possible.

-  It prebuilds HTML files, pre-rendering all web components using [declarative shadow DOM](https://developer.chrome.com/docs/css-ui/declarative-shadow-dom).
- It handles metadata with [front matter](https://www.scribendi.com/academy/articles/front_matter.en.html#:~:text=Front%20matter%20is%20the%20first,a%20preface%2C%20and%20much%20more.), handling layouting with `<slot />` elements.
- It handles build-only components and scripts, by simply removing `&lt;script build-only&gt;` tags.

This means, barring the front matter, you will be writing HTML, CSS and JavaScript that browsers could simply just load. `pree` just makes stuff faster by pre-running some scripts and removing some others, resulting in an almost no-build developer experience that also rocks top-tier performance.

<br>

---

<br>

<style>
  h5 {
    margin-bottom: 1rem;
  }
</style>

##### Q: Isn't this just another build tool?

It is, but a really thin one. With the exception of layouting, using and not using `pree` gets you basically the same
website. `pree` just leverages web standards (e.g. [declarative shadow DOM](https://developer.chrome.com/docs/css-ui/declarative-shadow-dom)) and simple conventions (e.g. `&lt;script build-only&gt;`) to speed things up.

##### Q: What if I want to write Markdown?

You can. It is also pretty convenient. Just use a web component like [zero-md](https://zerodevx.github.io/zero-md/). Load it `build-only`, and `pree` ensures your customers get a pre-rendered version without the extra asset overhead.


##### Q: Whats with the front matter? What about pure HTML?

Honsetly, I couldn't figure out a neat way of doing that with web components without creating a weird developer experience. If you can think of such a way, please let me know. I'm particularly salty that I can't 
have pure HTML.

<br>

</m-d>